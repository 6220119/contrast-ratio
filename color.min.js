Math.round=function(){var t=Math.round;return function(r,a){a=+a||0;var n=Math.pow(10,a);return t(r*n)/n}}();(function(){var t=self.Color=function(t){if(t==="transparent"){t=[0,0,0,0]}else if(typeof t==="string"){var r=t;t=r.match(/rgba?\(([\d.]+), ([\d.]+), ([\d.]+)(?:, ([\d.]+))?\)/);if(t){t.shift()}else{throw new Error("Invalid string: "+r)}}if(t[3]===undefined){t[3]=1}t=t.map(function(t){return Math.round(t,3)});this.rgba=t};t.prototype={get rgb(){return this.rgba.slice(0,3)},get alpha(){return this.rgba[3]},set alpha(t){this.rgba[3]=t},get luminance(){var t=this.rgba.slice();for(var r=0;r<3;r++){var a=t[r];a/=255;a=a<.03928?a/12.92:Math.pow((a+.055)/1.055,2.4);t[r]=a}return.2126*t[0]+.7152*t[1]+.0722*t[2]},get inverse(){return new t([255-this.rgba[0],255-this.rgba[1],255-this.rgba[2],this.alpha])},toString:function(){return"rgb"+(this.alpha<1?"a":"")+"("+this.rgba.slice(0,this.alpha>=1?3:4).join(", ")+")"},clone:function(){return new t(this.rgba)},overlayOn:function(t){var r=this.clone();var a=this.alpha;if(a>=1){return r}for(var n=0;n<3;n++){r.rgba[n]=r.rgba[n]*a+t.rgba[n]*t.rgba[3]*(1-a)}r.rgba[3]=a+t.rgba[3]*(1-a);return r},contrast:function(r){var a=this.alpha;if(a>=1){if(r.alpha<1){r=r.overlayOn(this)}var n=this.luminance+.05,i=r.luminance+.05,e=n/i;if(i>n){e=1/e}e=Math.round(e,1);return{ratio:e,error:0,min:e,max:e}}var o=this.overlayOn(t.BLACK).contrast(r).ratio,h=this.overlayOn(t.WHITE).contrast(r).ratio;var s=Math.max(o,h);var c=this.rgb.map(function(t,n){return Math.min(Math.max(0,(r.rgb[n]-t*a)/(1-a)),255)});c=new t(c);var u=this.overlayOn(c).contrast(r).ratio;return{ratio:Math.round((u+s)/2,2),error:Math.round((s-u)/2,2),min:u,max:s,closest:c,farthest:h==s?t.WHITE:t.BLACK}}};t.BLACK=new t([0,0,0]);t.GRAY=new t([127.5,127.5,127.5]);t.WHITE=new t([255,255,255])})();
//# sourceMappingURL=color.min.js.map